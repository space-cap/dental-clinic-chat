# 🦷 치과 병원 상담 채팅 시스템 사용자 가이드

실시간 기반 치과 병원 고객 상담 채팅 시스템 사용 가이드입니다.

## 📋 목차
1. [시스템 개요](#시스템-개요)
2. [고객용 가이드](#고객용-가이드)
3. [관리자용 가이드](#관리자용-가이드)
4. [문제 해결](#문제-해결)
5. [브라우저 호환성](#브라우저-호환성)

## 시스템 개요

### 주요 기능
- **실시간 채팅**: 고객과 상담사 간 실시간 메시지 교환
- **대기 시스템**: 고객 대기열 관리 및 순서 배정
- **관리자 대시보드**: 실시간 고객 현황 및 채팅방 관리
- **다중 세션**: 여러 고객과 동시 상담 가능

### 접속 방법
1. 웹 브라우저에서 `http://localhost:8080` 접속
2. 고객: 바로 채팅방 입장 가능
3. 관리자: 관리자 대시보드(`/admin/dashboard`)로 접속

---

## 고객용 가이드 👥

### 1. 상담 시작하기

#### 1단계: 메인 페이지 접속
- 브라우저에서 `http://localhost:8080/chat` 접속
- "치과 병원 상담 채팅" 화면이 나타남

#### 2단계: 정보 입력
- **이름**: 본인의 이름 입력 (2글자 이상, 최대 20글자)
- **역할**: "고객" 선택 (기본값)
- **상담방 ID**: 원하는 상담방 번호 입력 (예: room1)

#### 3단계: 상담방 입장
- "입장" 버튼 클릭
- 연결 상태 확인 (상단에 초록색 점으로 표시)

### 2. 채팅 사용법

#### 메시지 보내기
- 하단 텍스트 입력창에 메시지 작성
- **Enter 키** 또는 **전송 버튼(✈️)** 클릭
- **Shift + Enter**: 줄바꿈 (메시지 전송하지 않음)

#### 메시지 화면 구성
- **내 메시지**: 오른쪽에 파란색 말풍선
- **상담사 메시지**: 왼쪽에 흰색 말풍선
- **시스템 메시지**: 중앙에 연한 파란색 (입장/퇴장 알림)

#### 화면 요소 설명
- **상단 헤더**: "치과 병원 상담 채팅" 제목
- **연결 상태**: 실시간 연결 상태 표시
  - 🔴 빨간점: 연결 안됨
  - 🟢 초록점: 연결됨
- **사용자 정보**: 현재 로그인한 사용자명과 역할 표시

### 3. 상담 진행

#### 상담 대기
- 입장 후 "대기 중..." 메시지 표시
- 상담사가 배정될 때까지 잠시 기다림
- 시스템 메시지로 상담사 입장 알림

#### 상담 중
- 상담사와 실시간으로 메시지 교환
- 메시지는 자동으로 하단에 추가됨
- 스크롤이 자동으로 최신 메시지로 이동

#### 상담 종료
- 상담 완료 후 브라우저 창을 닫으면 됨
- 또는 다른 페이지로 이동

---

## 관리자용 가이드 👨‍⚕️

### 1. 관리자 대시보드 접속

#### 대시보드 열기
- 브라우저에서 `http://localhost:8080/admin/dashboard` 접속
- "관리자 대시보드" 화면 표시

#### 관리자 설정
1. **관리자 이름 입력**: 본인 이름 입력 (최대 20글자)
2. **"관리자 설정" 버튼** 클릭
3. 설정 완료 메시지 확인
4. 이후 활성 채팅방 목록 자동 로드

### 2. 대기 고객 관리

#### 대기 목록 확인
- **왼쪽 카드**: "⏳ 대기 중인 고객" 섹션
- 각 대기 고객 정보:
  - 고객명
  - 상담방 ID
  - 대기 시간 (실시간 업데이트)
  - 고객 요청사항 (있는 경우)

#### 고객 배정하기
1. 대기 고객 옆 **"배정하기"** 버튼 클릭
2. 해당 고객이 관리자에게 자동 배정
3. 성공 알림 메시지 표시
4. 활성 채팅방 목록으로 이동

#### 자동 배정 기능
- **"다음 고객 자동 배정"** 버튼 클릭
- 가장 오래 기다린 고객을 자동으로 배정
- 대기 고객이 없으면 안내 메시지 표시

### 3. 활성 채팅방 관리

#### 활성 채팅방 목록
- **오른쪽 카드**: "💬 내 활성 채팅방" 섹션
- 각 채팅방 정보:
  - 고객명
  - 상담방 ID
  - 상담 시작 시간
  - 상태 배지 (활성)

#### 채팅방 조작
1. **"채팅방 열기"** 버튼
   - 새 탭에서 해당 채팅방으로 이동
   - 실시간 상담 가능

2. **"종료하기"** 버튼
   - 확인 대화상자 표시
   - 확인 시 채팅방 종료

### 4. 다중 채팅 관리

#### 여러 상담 동시 진행
- 각 활성 채팅방을 별도 탭에서 열어 관리
- 브라우저 탭 간 전환으로 빠른 응답 가능
- 대시보드에서 전체 현황 모니터링

#### 효율적인 관리 팁
- **자동 새로고침**: 대기 목록은 30초마다, 활성 채팅방은 10초마다 자동 업데이트
- **빠른 작업 패널**: 자주 사용하는 기능을 상단에 배치
- **알림 시스템**: 모든 작업 결과를 알림으로 표시

### 5. 대시보드 기능

#### 실시간 모니터링
- **대기 고객 수**: 실시간 카운트 표시
- **내 활성 채팅방 수**: 현재 상담 중인 채팅방 개수
- **대기 시간**: 각 고객의 대기 시간 실시간 업데이트

#### 제어 기능
- **대시보드 새로고침**: 수동으로 모든 정보 업데이트
- **알림 시스템**: 작업 성공/실패/정보 알림을 우측 상단에 표시

---

## 문제 해결 🔧

### 일반적인 문제

#### 연결이 안 될 때
**증상**: 빨간 점 표시, "연결 실패" 메시지
**해결 방법**:
1. 페이지 새로고침 (F5)
2. 브라우저 캐시 삭제
3. 다른 브라우저로 시도
4. 네트워크 연결 확인

#### 메시지가 전송되지 않을 때
**증상**: 전송 버튼이 비활성화, 메시지가 나가지 않음
**해결 방법**:
1. 연결 상태 확인 (초록 점인지 확인)
2. 페이지 새로고침
3. 다시 상담방 입장

#### 채팅방에 들어갈 수 없을 때
**증상**: "입장" 버튼 클릭 후 아무 반응 없음
**해결 방법**:
1. 이름과 상담방 ID 올바르게 입력했는지 확인
2. 이름은 2글자 이상 입력
3. 특수문자 사용 피하기
4. 페이지 새로고침 후 재시도

### 관리자 관련 문제

#### 대기 고객이 보이지 않을 때
**해결 방법**:
1. "대시보드 새로고침" 버튼 클릭
2. 페이지 새로고침
3. 관리자 설정이 되어있는지 확인

#### 고객 배정이 안 될 때
**해결 방법**:
1. 관리자 이름이 설정되어 있는지 확인
2. "관리자 설정" 버튼을 다시 클릭
3. 다른 관리자가 이미 배정했을 가능성 확인

#### 채팅방을 열 수 없을 때
**해결 방법**:
1. 팝업 차단 해제
2. 브라우저에서 새 탭 열기 허용
3. 수동으로 URL 복사해서 새 탭에 붙여넣기

### 성능 관련 문제

#### 페이지가 느릴 때
**해결 방법**:
1. 브라우저 캐시 삭제
2. 다른 탭들 닫기
3. 브라우저 재시작
4. 컴퓨터 메모리 여유 공간 확인

#### 메시지가 늦게 나타날 때
**원인**: 네트워크 지연
**해결 방법**:
1. 인터넷 연결 상태 확인
2. 와이파이 신호 강도 확인
3. 다른 네트워크로 전환 시도

---

## 브라우저 호환성 🌐

### 권장 환경

#### 데스크톱 브라우저
- **Chrome 90+** ⭐ (권장)
- **Firefox 85+** ⭐ (권장)
- **Safari 14+**
- **Edge 90+**

#### 모바일 브라우저
- **Chrome Mobile 90+** ⭐ (권장)
- **Safari iOS 14+**
- **Samsung Internet 14+**

### 필수 기능 요구사항
- **WebSocket 지원**: 실시간 채팅을 위해 필요
- **JavaScript ES6+**: 최신 JavaScript 기능 사용
- **CSS Grid/Flexbox**: 반응형 레이아웃을 위해 필요

### 지원되지 않는 브라우저
- Internet Explorer (모든 버전)
- Chrome 60 이하
- Firefox 60 이하
- 오래된 모바일 브라우저

### 모바일 최적화

#### 화면 적응
- **세로 모드**: 전체 화면 사용
- **가로 모드**: 데스크톱과 동일한 레이아웃
- **터치 최적화**: 버튼 크기 자동 조정

#### 키보드 처리
- **가상 키보드**: 자동으로 화면 조정
- **입력 포커스**: 메시지 입력 시 자동 스크롤
- **터치 제스처**: 스크롤 및 탭 지원

---

## 추가 도움말 📞

### 기술 지원
시스템 사용 중 문제가 발생하면:
1. 이 가이드의 문제 해결 섹션 참조
2. 브라우저 개발자 도구 확인 (F12)
3. IT 관리자에게 문의

### 기능 개선 제안
더 나은 서비스를 위해 기능 개선 제안을 환영합니다:
- 사용성 개선 아이디어
- 새로운 기능 요청
- 버그 리포트

### 시스템 정보
- **개발 언어**: Java (Spring Boot)
- **웹 기술**: HTML5, CSS3, JavaScript
- **실시간 통신**: WebSocket (STOMP)
- **브라우저 요구사항**: 최신 브라우저 권장

---

*이 가이드는 치과 병원 상담 채팅 시스템 v1.0을 기준으로 작성되었습니다.*
*시스템 업데이트 시 가이드도 함께 업데이트됩니다.*